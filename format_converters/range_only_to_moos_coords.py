#Used to change coordinates from the system used in range_only_robotics to the one used in this project
#[x_min, y_min, x_max, y_max]: [0,0,35,35] -> [0,-200,200,0]

def to_moos(range_traj, id, max_len):
    print('VNAME' + id + '="agent' + id +'"')
    output = []
    is_start = True

    for coord in range_traj:
        x = coord[0]
        y = coord[1]
        #scale
        factor = 200/35
        x *= factor
        y *= factor

        #change range
        y -= 200

        #to int
        x = int(x)
        y = int(y)
        output.append((x,y))
        if is_start:
            print('START_POS' + id + '="' + str(x) + ',' + str(y) + '"')
            is_start = False

    # Pad ending w/ at least one extra copy
    while len(output) < max_len + 1:
        output.append(output[-1])

    #string
    output = str(output)
    #remove space
    output = output.replace(" ", "")
    print("TRAJ" + id +'="' + output + '"\n')


if __name__ == "__main__":
    all_trajs = [
                #     [(3.0, 3.0), (5.809375000000001, 4.109876543209877), (6.625, 5.255555555555556), (9.071875, 6.114814814814816), (10.703125, 8.406172839506175), (12.7421875, 10.697530864197532), (15.053125, 13.561728395061728), (15.86875, 14.707407407407407), (17.9078125, 16.282716049382717), (19.13125, 18.574074074074073), (20.3546875, 19.719753086419754), (21.9859375, 22.583950617283946), (24.7046875, 24.87530864197531), (27.0, 28.0)],
                #     [(4.0, 2.0), (6.217187500000001, 2.9641975308641992), (6.0, 6.0), (8.256250000000001, 8.692592592592593), (10.159375, 11.84320987654321), (10.975000000000001, 12.988888888888889), (13.8296875, 15.853086419753087), (16.684375, 16.998765432098764), (19.13125, 18.574074074074073), (20.3546875, 19.719753086419754), (21.9859375, 22.583950617283946), (25.112499999999997, 23.729629629629628), (28.0, 27.0)],
                #     [(2.0, 3.0), (3.0, 3.0), (5.809375000000001, 4.109876543209877), (6.625, 5.255555555555556), (9.071875, 6.114814814814816), (10.703125, 8.406172839506175), (12.7421875, 10.697530864197532), (15.053125, 13.561728395061728), (15.86875, 14.707407407407407), (17.9078125, 16.282716049382717), (19.13125, 18.574074074074073), (20.3546875, 19.719753086419754), (21.9859375, 22.583950617283946), (24.7046875, 24.87530864197531), (26.0, 28.0)],
                #     [(6.0, 6.0), (7.848437500000001, 7.546913580246915), (10.703125, 8.406172839506175), (12.7421875, 10.697530864197532), (15.053125, 13.561728395061728), (15.86875, 14.707407407407407), (17.9078125, 16.282716049382717), (21.578125, 17.428395061728395), (25.2484375, 19.146913580246913), (25.65625, 20.292592592592595), (25.112499999999997, 23.729629629629628), (28.0, 27.0), (28.7828125, 29.1716049382716), (30.0, 31.0)],
                #     [(5.0, 3.0), (6.625, 5.255555555555556), (9.071875, 6.114814814814816), (10.703125, 8.406172839506175), (12.7421875, 10.697530864197532), (15.053125, 13.561728395061728), (15.86875, 14.707407407407407), (17.9078125, 16.282716049382717), (21.578125, 17.428395061728395), (25.2484375, 19.146913580246913), (25.65625, 20.292592592592595), (27.559375, 23.443209876543207), (28.375, 24.58888888888889), (29.0, 28.0)],
                #     [(2.0, 6.0), (2.9546875000000004, 8.119753086419752), (7.0328125, 9.838271604938273), (10.159375, 11.84320987654321), (12.1984375, 15.280246913580246), (14.2375, 18.144444444444442), (15.4609375, 20.4358024691358), (18.315625, 20.86543209876543), (19.8109375, 24.30246913580247), (21.85, 27.166666666666664), (23.0734375, 29.45802469135802), (26.0, 31.0)]
                # ] # Above is traj for 6 agents on rect
                    [(3.0, 3.0), (2.5468750000000018, 3.537037037037038), (2.0, 6.0), (2.9546875000000004, 8.119753086419752), (4.585937500000002, 10.98395061728395), (7.3046875, 13.27530864197531), (8.1203125, 16.712345679012344), (9.34375, 19.862962962962964), (13.421875, 21.58148148148148), (15.4609375, 20.4358024691358), (19.13125, 18.574074074074073), (21.578125, 17.428395061728395), (23.209375, 15.709876543209875), (24.025, 16.855555555555554), (25.65625, 20.292592592592595), (25.112499999999997, 23.729629629629628), (27.0, 27.0)],
                    [(4.0, 2.0), (5.809375000000001, 4.109876543209877), (6.625, 5.255555555555556), (8.256250000000001, 8.692592592592593), (7.7125, 12.12962962962963), (8.1203125, 16.712345679012344), (9.34375, 19.862962962962964), (13.421875, 21.58148148148148), (15.4609375, 20.4358024691358), (19.13125, 18.574074074074073), (21.578125, 17.428395061728395), (23.209375, 15.709876543209875), (24.025, 16.855555555555554), (25.65625, 20.292592592592595), (27.559375, 23.443209876543207), (28.0, 26.0)],
                    [(2.0, 3.0), (2.0, 6.0), (2.9546875000000004, 8.119753086419752), (3.3625000000000007, 10.411111111111111), (5.265625000000002, 14.420987654320987), (5.6734375, 17.858024691358025), (8.935937500000001, 18.71728395061728), (10.5671875, 21.008641975308638), (14.6453125, 22.727160493827157), (18.315625, 20.86543209876543), (20.3546875, 19.719753086419754), (19.946875, 15.137037037037036), (23.6171875, 14.564197530864197), (27.2875, 14.277777777777777), (26.471874999999997, 17.714814814814815), (25.65625, 20.292592592592595), (25.112499999999997, 23.729629629629628), (26.0, 27.0)],
                    [(6.0, 6.0), (8.256250000000001, 8.692592592592593), (7.7125, 12.12962962962963), (9.7515625, 14.134567901234568), (8.935937500000001, 18.71728395061728), (9.34375, 19.862962962962964), (13.421875, 21.58148148148148), (15.4609375, 20.4358024691358), (19.13125, 18.574074074074073), (21.578125, 17.428395061728395), (23.209375, 15.709876543209875), (24.025, 16.855555555555554), (25.65625, 20.292592592592595), (25.112499999999997, 23.729629629629628), (27.0, 27.0), (28.7828125, 29.1716049382716), (30.0, 30.0)],
                    [(5.0, 3.0), (6.625, 5.255555555555556), (8.256250000000001, 8.692592592592593), (7.7125, 12.12962962962963), (8.1203125, 16.712345679012344), (8.935937500000001, 18.71728395061728), (10.5671875, 21.008641975308638), (14.6453125, 22.727160493827157), (18.315625, 20.86543209876543), (20.3546875, 19.719753086419754), (19.946875, 15.137037037037036), (23.6171875, 14.564197530864197), (27.2875, 14.277777777777777), (28.510937499999997, 16.569135802469134), (28.103125, 20.006172839506174), (27.559375, 23.443209876543207), (28.375, 24.58888888888889), (29.0, 27.0)],
                    [(2.0, 6.0), (2.9546875000000004, 8.119753086419752), (3.3625000000000007, 10.411111111111111), (5.265625000000002, 14.420987654320987), (5.6734375, 17.858024691358025), (6.896875000000001, 19.003703703703703), (8.528125000000001, 21.295061728395062), (11.790625, 22.15432098765432), (12.4703125, 24.445679012345675), (16.140625, 23.872839506172834), (18.315625, 20.86543209876543), (20.3546875, 19.719753086419754), (21.578125, 17.428395061728395), (23.209375, 15.709876543209875), (25.2484375, 19.146913580246913), (24.4328125, 21.438271604938272), (24.7046875, 24.87530864197531), (25.5203125, 28.31234567901234), (26.0, 30.0)]
                ] # Above is traj for 6 agents on obstacle 1

    max_len = max(len(i) for i in all_trajs)
    for i in range(len(all_trajs)):
        range_traj = all_trajs[i]
        to_moos(range_traj, str(i+1), max_len)